/*
 * Grand Budapest Hotel Theme
 * Concierge Burgundy (dark) / Lobby Rose (light)
 */

/* ========== DARK MODE (default) - Wine Cellar ========== */
:root {
  /* === Core Palette === */
  --palette-rose: #C9919A;
  --palette-rose-deep: #A8606E;
  --palette-gold: #C4A35A;
  --palette-cream: #F0E4E0;
  --palette-muted: #C4AAB0;
  --palette-claret: #18100F;
  --palette-wine: #2A1E1E;
  --palette-burgundy: #3D2D2D;

  /* === Semantic: Backgrounds === */
  --bg: #18100F;
  --bg-secondary: #221818;
  --bg-tertiary: #2A1E1E;
  --surface: #322424;
  --input-bg: #2A1E1E;

  /* === Semantic: Text === */
  --text: #F0E4E0;
  --text-secondary: #C4AAB0;

  /* === Semantic: Accent === */
  --accent: #E8707E;
  --accent-light: #F0909A;
  --accent-secondary: #6BC4B8;

  /* === Semantic: Status === */
  --danger: #E05868;
  --success: #6BC4B8;
  --warning: #E0A850;

  /* === Semantic: Borders === */
  --border: rgba(80, 55, 55, 0.7);
  --glass-bg: rgba(24, 16, 15, 0.95);
  --glass-border: rgba(232, 112, 126, 0.12);

  /* === Semantic: Message Bubbles === */
  --user-bubble: #E8707E;
  --user-bubble-end: #C85060;
  --assistant-bubble: #2A1E1E;

  /* === Alpha Variants === */
  --accent-alpha-8: rgba(232, 112, 126, 0.08);
  --accent-alpha-12: rgba(232, 112, 126, 0.12);
  --accent-alpha-15: rgba(232, 112, 126, 0.15);
  --accent-alpha-20: rgba(232, 112, 126, 0.2);
  --accent-alpha-25: rgba(232, 112, 126, 0.25);
  --accent-alpha-30: rgba(232, 112, 126, 0.3);
  --accent-alpha-35: rgba(232, 112, 126, 0.35);
  --accent-alpha-50: rgba(232, 112, 126, 0.5);

  --danger-alpha-15: rgba(184, 90, 104, 0.15);
  --danger-alpha-40: rgba(184, 90, 104, 0.4);

  --teal-alpha-6: rgba(107, 196, 184, 0.06);
  --teal-alpha-25: rgba(107, 196, 184, 0.25);

  --terracotta-alpha-6: rgba(168, 96, 110, 0.06);
  --terracotta-alpha-10: rgba(168, 96, 110, 0.1);

  --white-alpha-6: rgba(255, 255, 255, 0.06);
  --white-alpha-10: rgba(255, 255, 255, 0.1);
  --white-alpha-60: rgba(255, 255, 255, 0.6);

  --black-alpha-8: rgba(0, 0, 0, 0.08);
  --black-alpha-15: rgba(0, 0, 0, 0.15);
  --black-alpha-20: rgba(0, 0, 0, 0.2);
  --black-alpha-25: rgba(0, 0, 0, 0.25);
  --black-alpha-30: rgba(0, 0, 0, 0.3);
  --black-alpha-40: rgba(0, 0, 0, 0.4);
  --black-alpha-50: rgba(0, 0, 0, 0.5);

  /* === Component: Status Indicators === */
  --status-idle: #6BC4B8;
  --status-thinking: #E0A850;
  --status-disconnected: #3D2D2D;

  /* === Component: Mode Badges === */
  --mode-autopilot-bg: rgba(107, 196, 184, 0.25);
  --mode-autopilot-text: #6BC4B8;
  --mode-readonly-bg: var(--accent-alpha-20);
  --mode-readonly-text: #E8707E;

  /* === Component: Syntax Highlighting === */
  --syntax-keyword: #E8707E;
  --syntax-string: #8CD48C;
  --syntax-number: #E8C060;
  --syntax-comment: #7A6568;
  --syntax-function: #6BC4B8;
  --syntax-type: #E0A850;
  --syntax-variable: #F0A070;
  --syntax-operator: #D0B8B8;

  /* === Component: Code Blocks === */
  --code-bg: #140E0D;
  --code-header-bg: #2A1E1E;
  --code-inline-bg: rgba(232, 112, 126, 0.18);

  /* === Component: Gradient Mesh === */
  --mesh-color-1: rgba(232, 112, 126, 0.1);
  --mesh-color-2: rgba(107, 196, 184, 0.06);
  --mesh-color-3: rgba(232, 192, 96, 0.06);

  /* === Component: Brand === */
  --brand-icon-color: #E8707E;
  --brand-gradient: linear-gradient(135deg, #F0909A 0%, #E0A850 100%);

  /* === PWA: Theme Colors === */
  --theme-color: #18100F;
}

/* ========== LIGHT MODE - Lobby Rose ========== */
html[data-theme="light"] {
  /* === Backgrounds - more contrast === */
  --bg: #F8EDE8;
  --bg-secondary: #EEDAD5;
  --bg-tertiary: #E0C4BE;
  --surface: #FFFAF8;
  --input-bg: #FFFAF8;

  /* === Text - darker for contrast === */
  --text: #3A2220;
  --text-secondary: #6A4548;

  /* === Accent === */
  --accent: #C65D7B;
  --accent-light: #D4838F;

  /* === Borders - more visible === */
  --border: rgba(180, 130, 130, 0.5);
  --glass-bg: rgba(255, 250, 248, 0.95);
  --glass-border: rgba(198, 93, 123, 0.18);

  /* === Message Bubbles === */
  --assistant-bubble: #EEDAD5;

  /* === Alpha Variants === */
  --white-alpha-6: rgba(0, 0, 0, 0.03);
  --white-alpha-10: rgba(0, 0, 0, 0.06);

  /* === Code Blocks === */
  --code-bg: #E8D0CC;
  --code-header-bg: #E0C4BE;
  --code-inline-bg: rgba(198, 93, 123, 0.12);

  /* === Gradient Mesh === */
  --mesh-color-1: rgba(212, 131, 143, 0.15);
  --mesh-color-2: rgba(201, 162, 39, 0.08);
  --mesh-color-3: rgba(198, 93, 123, 0.08);

  /* === Syntax Highlighting === */
  --syntax-keyword: #8B4557;
  --syntax-string: #4A7A4A;
  --syntax-number: #9A7A20;
  --syntax-comment: #9B7A7A;
  --syntax-function: #C65D7B;
  --syntax-type: #7D4E57;
  --syntax-variable: #A08030;
  --syntax-operator: #7D4E57;

  /* === Status === */
  --status-disconnected: #E0C4BE;

  /* === Scrollbar === */
  --scrollbar-thumb: rgba(198, 93, 123, 0.3);

  /* === Component: Brand === */
  --brand-icon-color: #C65D7B;
  --brand-gradient: linear-gradient(135deg, #C65D7B 0%, #A08030 100%);

  /* === PWA: Theme Colors === */
  --theme-color: #F8EDE8;
}

/* Auto theme via media query */
@media (prefers-color-scheme: light) {
  html:not([data-theme="dark"]):not([data-theme="light"]) {
    --bg: #F8EDE8;
    --bg-secondary: #EEDAD5;
    --bg-tertiary: #E0C4BE;
    --surface: #FFFAF8;
    --input-bg: #FFFAF8;
    --text: #3A2220;
    --text-secondary: #6A4548;
    --accent: #C65D7B;
    --accent-light: #D4838F;
    --border: rgba(180, 130, 130, 0.5);
    --glass-bg: rgba(255, 250, 248, 0.95);
    --glass-border: rgba(198, 93, 123, 0.18);
    --assistant-bubble: #EEDAD5;
    --white-alpha-6: rgba(0, 0, 0, 0.03);
    --white-alpha-10: rgba(0, 0, 0, 0.06);
    --code-bg: #E8D0CC;
    --code-header-bg: #E0C4BE;
    --code-inline-bg: rgba(198, 93, 123, 0.12);
    --mesh-color-1: rgba(212, 131, 143, 0.15);
    --mesh-color-2: rgba(201, 162, 39, 0.08);
    --mesh-color-3: rgba(198, 93, 123, 0.08);
    --syntax-keyword: #8B4557;
    --syntax-string: #4A7A4A;
    --syntax-number: #9A7A20;
    --syntax-comment: #9B7A7A;
    --syntax-function: #C65D7B;
    --syntax-type: #7D4E57;
    --syntax-variable: #A08030;
    --syntax-operator: #7D4E57;
    --status-disconnected: #E0C4BE;
    --scrollbar-thumb: rgba(198, 93, 123, 0.3);
    --brand-icon-color: #C65D7B;
    --brand-gradient: linear-gradient(135deg, #C65D7B 0%, #A08030 100%);
    --theme-color: #F8EDE8;
  }
}

/* ========== BUDAPEST-SPECIFIC OVERRIDES ========== */
/* Gold accents for scope headers and card borders */

/* Scope headers and stack headers use gold instead of muted text */
.scope-header,
.stack-header {
  color: #C4A35A;
}

/* All conversation cards get visible borders */
.conv-card {
  border: 1px solid rgba(100, 70, 70, 0.5);
}

/* Pinned card border uses gold */
.conv-card-wrapper.pinned .conv-card {
  border: 1px solid rgba(196, 163, 90, 0.6);
}

.conv-card-wrapper.pinned .conv-card::before {
  background: rgba(196, 163, 90, 0.12);
}

/* Pin icon uses gold */
.pin-indicator {
  color: #C4A35A;
}

/* Light mode adjustments */
html[data-theme="light"] .scope-header,
html[data-theme="light"] .stack-header {
  color: #A08030;
}

html[data-theme="light"] .conv-card {
  border: 1px solid rgba(180, 140, 140, 0.5);
}

html[data-theme="light"] .conv-card-wrapper.pinned .conv-card {
  border: 1px solid rgba(160, 128, 48, 0.6);
}

html[data-theme="light"] .conv-card-wrapper.pinned .conv-card::before {
  background: rgba(160, 128, 48, 0.1);
}

html[data-theme="light"] .pin-indicator {
  color: #A08030;
}

@media (prefers-color-scheme: light) {
  html:not([data-theme="dark"]):not([data-theme="light"]) .scope-header,
  html:not([data-theme="dark"]):not([data-theme="light"]) .stack-header {
    color: #A08030;
  }

  html:not([data-theme="dark"]):not([data-theme="light"]) .conv-card {
    border: 1px solid rgba(180, 140, 140, 0.5);
  }

  html:not([data-theme="dark"]):not([data-theme="light"]) .conv-card-wrapper.pinned .conv-card {
    border: 1px solid rgba(160, 128, 48, 0.6);
  }

  html:not([data-theme="dark"]):not([data-theme="light"]) .pin-indicator {
    color: #A08030;
  }
}
