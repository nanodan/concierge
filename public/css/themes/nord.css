/*
 * Nord Theme
 * Inspired by the Arctic, north-bluish color palette
 * Based on https://www.nordtheme.com/
 */

/* ========== DARK MODE (default) ========== */
:root {
  /* === Core Palette (Nord colors) === */
  /* Polar Night */
  --nord0: #2e3440;
  --nord1: #3b4252;
  --nord2: #434c5e;
  --nord3: #4c566a;
  /* Snow Storm */
  --nord4: #d8dee9;
  --nord5: #e5e9f0;
  --nord6: #eceff4;
  /* Frost */
  --nord7: #8fbcbb;
  --nord8: #88c0d0;
  --nord9: #81a1c1;
  --nord10: #5e81ac;
  /* Aurora */
  --nord11: #bf616a;
  --nord12: #d08770;
  --nord13: #ebcb8b;
  --nord14: #a3be8c;
  --nord15: #b48ead;

  /* === Semantic: Backgrounds === */
  --bg: var(--nord0);
  --bg-secondary: var(--nord1);
  --bg-tertiary: var(--nord2);
  --surface: var(--nord1);
  --input-bg: var(--nord1);

  /* === Semantic: Text === */
  --text: var(--nord4);
  --text-secondary: var(--nord3);

  /* === Semantic: Accent === */
  --accent: var(--nord8);
  --accent-light: var(--nord7);
  --accent-secondary: var(--nord9);

  /* === Semantic: Status === */
  --danger: var(--nord11);
  --success: var(--nord14);
  --warning: var(--nord13);

  /* === Semantic: Borders === */
  --border: var(--nord3);
  --glass-bg: rgba(46, 52, 64, 0.9);
  --glass-border: rgba(216, 222, 233, 0.1);

  /* === Semantic: Message Bubbles === */
  --user-bubble: var(--nord10);
  --user-bubble-end: var(--nord9);
  --assistant-bubble: var(--nord1);

  /* === Alpha Variants (for animations, shadows, glows) === */
  --accent-alpha-8: rgba(136, 192, 208, 0.08);
  --accent-alpha-12: rgba(136, 192, 208, 0.12);
  --accent-alpha-15: rgba(136, 192, 208, 0.15);
  --accent-alpha-20: rgba(136, 192, 208, 0.2);
  --accent-alpha-25: rgba(136, 192, 208, 0.25);
  --accent-alpha-30: rgba(136, 192, 208, 0.3);
  --accent-alpha-35: rgba(136, 192, 208, 0.35);
  --accent-alpha-50: rgba(136, 192, 208, 0.5);

  --danger-alpha-15: rgba(191, 97, 106, 0.15);
  --danger-alpha-40: rgba(191, 97, 106, 0.4);

  --teal-alpha-6: rgba(143, 188, 187, 0.06);
  --teal-alpha-25: rgba(143, 188, 187, 0.25);

  --terracotta-alpha-6: rgba(208, 135, 112, 0.06);
  --terracotta-alpha-10: rgba(208, 135, 112, 0.1);

  --white-alpha-6: rgba(255, 255, 255, 0.06);
  --white-alpha-10: rgba(255, 255, 255, 0.1);
  --white-alpha-60: rgba(255, 255, 255, 0.6);

  --black-alpha-8: rgba(0, 0, 0, 0.08);
  --black-alpha-15: rgba(0, 0, 0, 0.15);
  --black-alpha-20: rgba(0, 0, 0, 0.2);
  --black-alpha-25: rgba(0, 0, 0, 0.25);
  --black-alpha-30: rgba(0, 0, 0, 0.3);
  --black-alpha-40: rgba(0, 0, 0, 0.4);
  --black-alpha-50: rgba(0, 0, 0, 0.5);

  /* === Component: Status Indicators === */
  --status-idle: var(--nord14);
  --status-thinking: var(--nord8);
  --status-disconnected: var(--nord3);

  /* === Component: Mode Badges === */
  --mode-autopilot-bg: var(--teal-alpha-25);
  --mode-autopilot-text: var(--nord7);
  --mode-readonly-bg: var(--accent-alpha-20);
  --mode-readonly-text: var(--nord8);

  /* === Component: Syntax Highlighting === */
  --syntax-keyword: var(--nord9);
  --syntax-string: var(--nord14);
  --syntax-number: var(--nord15);
  --syntax-comment: var(--nord3);
  --syntax-function: var(--nord8);
  --syntax-type: var(--nord7);
  --syntax-variable: var(--nord12);
  --syntax-operator: var(--nord4);

  /* === Component: Code Blocks === */
  --code-bg: var(--bg);
  --code-header-bg: var(--bg-tertiary);
  --code-inline-bg: var(--accent-alpha-15);

  /* === Component: Gradient Mesh (list view background) === */
  --mesh-color-1: var(--accent-alpha-8);
  --mesh-color-2: rgba(180, 142, 173, 0.05);
  --mesh-color-3: var(--teal-alpha-6);

  /* === PWA: Theme Colors === */
  --theme-color: #2e3440;
}

/* ========== LIGHT MODE ========== */
html[data-theme="light"] {
  /* === Backgrounds === */
  --bg: var(--nord6);
  --bg-secondary: var(--nord5);
  --bg-tertiary: var(--nord4);
  --surface: #ffffff;
  --input-bg: #ffffff;

  /* === Text === */
  --text: var(--nord0);
  --text-secondary: var(--nord3);

  /* === Borders === */
  --border: rgba(76, 86, 106, 0.2);
  --glass-bg: rgba(236, 239, 244, 0.9);
  --glass-border: rgba(46, 52, 64, 0.1);

  /* === Message Bubbles === */
  --assistant-bubble: var(--nord5);

  /* === Alpha Variants (light mode adjustments) === */
  --white-alpha-6: rgba(0, 0, 0, 0.03);
  --white-alpha-10: rgba(0, 0, 0, 0.06);

  /* === Code Blocks === */
  --code-bg: var(--nord5);
  --code-header-bg: var(--nord4);
  --code-inline-bg: rgba(136, 192, 208, 0.15);

  /* === Gradient Mesh === */
  --mesh-color-1: rgba(136, 192, 208, 0.08);
  --mesh-color-2: rgba(180, 142, 173, 0.04);
  --mesh-color-3: rgba(143, 188, 187, 0.05);

  /* === Syntax Highlighting (adjusted for light bg) === */
  --syntax-keyword: var(--nord10);
  --syntax-string: #4c8c6c;
  --syntax-number: #a3586e;
  --syntax-comment: #8490a0;
  --syntax-function: #3a8c96;
  --syntax-type: #3a7c7c;
  --syntax-variable: #b86040;
  --syntax-operator: var(--nord3);

  /* === Scrollbar === */
  --scrollbar-thumb: rgba(0, 0, 0, 0.15);

  /* === PWA: Theme Colors === */
  --theme-color: #eceff4;
}

/* Auto theme via media query (when no explicit data-theme) */
@media (prefers-color-scheme: light) {
  html:not([data-theme="dark"]):not([data-theme="light"]) {
    --bg: var(--nord6);
    --bg-secondary: var(--nord5);
    --bg-tertiary: var(--nord4);
    --surface: #ffffff;
    --input-bg: #ffffff;
    --text: var(--nord0);
    --text-secondary: var(--nord3);
    --border: rgba(76, 86, 106, 0.2);
    --glass-bg: rgba(236, 239, 244, 0.9);
    --glass-border: rgba(46, 52, 64, 0.1);
    --assistant-bubble: var(--nord5);
    --white-alpha-6: rgba(0, 0, 0, 0.03);
    --white-alpha-10: rgba(0, 0, 0, 0.06);
    --code-bg: var(--nord5);
    --code-header-bg: var(--nord4);
    --code-inline-bg: rgba(136, 192, 208, 0.15);
    --mesh-color-1: rgba(136, 192, 208, 0.08);
    --mesh-color-2: rgba(180, 142, 173, 0.04);
    --mesh-color-3: rgba(143, 188, 187, 0.05);
    --syntax-keyword: var(--nord10);
    --syntax-string: #4c8c6c;
    --syntax-number: #a3586e;
    --syntax-comment: #8490a0;
    --syntax-function: #3a8c96;
    --syntax-type: #3a7c7c;
    --syntax-variable: #b86040;
    --syntax-operator: var(--nord3);
    --scrollbar-thumb: rgba(0, 0, 0, 0.15);
    --theme-color: #eceff4;
  }
}
